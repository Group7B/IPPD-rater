<section ng-controller="RatingsController" ng-init="find()">
  <div class="page-header">
    <h1>Project Ranking</h1>
   <label>Search Project: <input ng-model="searchText"></label>
  <input type="submit">
  </div>
  <div class="list-group">

    <div class="tableWrapper">
      <table class="table table-striped table-hover">
        <tr>
          <th>Logo</th>
          <th ng-click="sortType = 'teamName'">Team</th>
          <th ng-click="sortType = 'posterRating'">Poster Rating</th>
          <th ng-click="sortType = 'presentationRating'">Presentation Rating</th>
          <th ng-click="sortType = 'demoRating'">Demo Rating</th>
          <th ng-click="sortType = 'comment'">My Comments</th>
        </tr>

        <tr ng-repeat="rating in ratings | filter: {$: authentication.user._id} : true | orderBy:sortType:sortReverse" ui-sref="projects.rate({projectId: rating.project._id})">
          <td class="">
            <div class="post-thumb"><img class="logo-icon" ng-if="rating.project.logo" ng-src='modules/projects/client/img/logos/{{rating.project.logo}}' alt="No img"></div>
            <div class="post-thumb"><img class="logo-icon" ng-if="!rating.project.logo" ng-src='modules/projects/client/img/logos/default.jpg' alt="No img"></div>
          </td>
          <td>
            <text  class="list-group-item-heading" ng-bind="rating.project.teamName"></text><br>
          </td>
          <td>
            <text class="list-group-item-text" ng-bind="getStars(rating.posterRating)"></text>
          </td>
          <td>
            <text class="list-group-item-text" ng-bind="getStars(rating.presentationRating)"></text>
          </td>          
          <td>
            <text class="list-group-item-text" ng-bind="getStars(rating.demoRating)"></text>
          </td>
          <td>
            <text class="list-group-item-text" ng-bind="rating.comment"></text>
          </td>
        </tr>
      </table>
    </div>


  </div>
  <div class="alert alert-warning text-center" ng-if="projects.$resolved && !projects.length">
    No projects yet, why don't you <a ui-sref="projects.create">create one</a>?
  </div>
</section>
